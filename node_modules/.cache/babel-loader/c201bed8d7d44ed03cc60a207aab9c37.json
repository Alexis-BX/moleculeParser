{"ast":null,"code":"var _jsxFileName = \"/home/alexis/Documents/joko/test/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction isCap(a) {\n  return a in ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n}\n\nfunction isLow(a) {\n  return a in ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];\n}\n\nfunction isNum(a) {\n  return a in ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\n}\n\nclass Element {\n  constructor(elem, amount = 1) {\n    this.name = elem;\n    this.amount = amount;\n  }\n\n}\n\nclass Molecule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.elemList = [];\n  }\n\n  addElem(name, amount = 1) {\n    for (i = 0; i < this.elemList.length; i++) {\n      if (this.elemList[i].name == name) {\n        this.elemList[i].amount += amount;\n        return False;\n      }\n    }\n\n    var elem = Element(name, amount);\n    this.elemList.push(elem);\n    return True;\n  }\n\n  mergeMolecule(molecule) {\n    for (i = 0; i < molecule.elemList.length; i++) {\n      this.addElem(molecule.elemList[i]);\n    }\n  }\n\n  multiply(amount) {\n    if (amount == 0) this.elemList = [];\n    if (amount == 1) return;\n\n    for (i = 0; i < this.elemList.length; i++) {\n      this.elemList[i].amount *= n;\n    }\n  }\n\n  render() {\n    var rows = [];\n\n    for (i = 0; i < this.elemList; i++) {\n      rows.push( /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 5\n        }\n      }, this.elemList[i].name));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Molecule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      style: \"list-style-type:none;\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }\n    }, rows));\n  }\n\n}\n\nfunction parse(m) {\n  var molecule = new Molecule();\n  var i = 0;\n  L = m.length();\n\n  while (i < L) {\n    var e = '';\n    var n = '';\n\n    if (isCap(m[i])) {\n      e = m[i];\n      i++;\n\n      while (i < L && isLow(m[i])) {\n        e += m[i];\n        i++;\n      }\n\n      while (i < L && isNum(m[i])) {\n        n += m[i];\n        i++;\n      }\n\n      n = n == '' ? 1 : Number(n);\n      molecule.addElem(e, n);\n    } else if (m[i] in ['(', '[', '{']) {\n      var target;\n\n      switch (m[i]) {\n        case '(':\n          target = ')';\n          break;\n\n        case '[':\n          target = ']';\n          break;\n\n        default:\n          target = '}';\n      }\n\n      var count = 0;\n      var j = i + 1;\n\n      while (j < L && count < 1) {\n        if (m[j] == m[i]) count--;\n        if (m[j] == target) count++;\n        j++;\n      }\n\n      if (count < 1) {\n        alert(\"Unclosed bracket!\");\n        return Molecule();\n      }\n\n      var ret = parse(m.substring(i, j));\n      i = j;\n      var n = 0;\n\n      while (i < L && isNum(m[i])) {\n        n += m[i];\n        i++;\n      }\n\n      n = n == '' ? 1 : Number(n);\n      ret.multiply(n);\n      molecule.mergeMolecule(ret);\n    } else {\n      alert(\"Unauthorised symbol!\");\n      return Molecule();\n    }\n  }\n}\n\nclass Display extends React.Component {\n  constructor(props) {\n    super(props);\n    this.molecule = new Molecule();\n    this.value = '';\n  }\n\n  handleSubmit(event) {\n    this.molecule = parse(this.value);\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }\n    }, \"Molecule:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Decompose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    })), this.molecule.render());\n  }\n\n} // ========================================\n\n\nReactDOM.render( /*#__PURE__*/React.createElement(Display, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 3\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/alexis/Documents/joko/test/src/index.js"],"names":["React","ReactDOM","isCap","a","isLow","isNum","Element","constructor","elem","amount","name","Molecule","Component","props","elemList","addElem","i","length","False","push","True","mergeMolecule","molecule","multiply","n","render","rows","parse","m","L","e","Number","target","count","j","alert","ret","substring","Display","value","handleSubmit","event","preventDefault","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction isCap(a){\n    return a in ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];\n}\n\nfunction isLow(a){\n    return a in ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];\n}\n\nfunction isNum(a){\n    return a in ['0','1','2','3','4','5','6','7','8','9'];\n}\n\nclass Element {\n    constructor(elem, amount=1){\n        this.name = elem;\n        this.amount = amount;\n\t}\n}\n\nclass Molecule extends React.Component {\n    constructor(props) {    \n\t\tsuper(props);\n        this.elemList = []\n    }\n\n    addElem(name, amount=1) {\n        for (i=0; i<this.elemList.length; i++){\n            if(this.elemList[i].name == name){\n                this.elemList[i].amount += amount;\n                return False;\n            }\n\t\t}\n\t\tvar elem = Element(name, amount)\n        this.elemList.push(elem);\n        return True;\n    }\n    \n    mergeMolecule(molecule){\n        for (i=0; i<molecule.elemList.length; i++){\n            this.addElem(molecule.elemList[i]);\n        }\n    }\n\n    multiply(amount){\n        if (amount == 0) this.elemList = [];\n        if (amount == 1) return;\n        for (i=0; i<this.elemList.length; i++){\n            this.elemList[i].amount *= n\n        }\n\t}\n\trender(){\n\t\tvar rows = [];\n\t\tfor (i=0; i<this.elemList; i++){\n\t\t\trows.push(\n\t\t\t\t<li>{this.elemList[i].name}</li>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"Molecule\">\n\t\t\t\t<ul style=\"list-style-type:none;\">\n\t\t\t\t\t{rows}\n\t\t\t\t</ul> \n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction parse(m){\n\tvar molecule = new Molecule();\n\tvar i=0;\n\tL = m.length()\n\twhile(i<L){\n\t\tvar e = '';\n\t\tvar n = '';\n\t\tif (isCap(m[i])){\n\t\t\te = m[i];\n\t\t\ti++;\n\t\t\twhile (i<L && isLow(m[i])){\n\t\t\t\te += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\twhile (i<L && isNum(m[i])){\n\t\t\t\tn += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tn = (n=='') ? 1 : Number(n);\n\t\t\tmolecule.addElem(e, n);\n\t\t}\n\t\telse if (m[i] in ['(','[','{']){\n\t\t\tvar target;\n\t\t\tswitch (m[i]){\n\t\t\t\tcase '(': target = ')'; break;\n\t\t\t\tcase '[': target = ']'; break;\n\t\t\t\tdefault: target = '}'\n\t\t\t}\n\t\t\tvar count = 0;\n\t\t\tvar j = i+1;\n\t\t\twhile(j<L && count<1){\n\t\t\t\tif (m[j]==m[i])\n\t\t\t\t\tcount--;\n\t\t\t\tif (m[j]==target)\n\t\t\t\t\tcount++;\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (count<1){\n\t\t\t\talert(\"Unclosed bracket!\");\n\t\t\t\treturn Molecule();\n\t\t\t}\n\t\t\tvar ret = parse(m.substring(i, j));\n\t\t\ti = j;\n\t\t\tvar n = 0;\n\t\t\twhile (i<L && isNum(m[i])){\n\t\t\t\tn += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tn = (n=='') ? 1 : Number(n);\n\t\t\tret.multiply(n);\n\t\t\tmolecule.mergeMolecule(ret);\n\t\t} else {\n\t\t\talert(\"Unauthorised symbol!\");\n\t\t\treturn Molecule();\n\t\t}\n\t}\n}\n\nclass Display extends React.Component {\n\tconstructor(props) {    \n\t\tsuper(props);\n\t\tthis.molecule = new Molecule();\n\t\tthis.value = '';\n\t}\n\n\thandleSubmit(event){\n\t\tthis.molecule = parse(this.value);\n\n\t\tevent.preventDefault();\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"Display\">\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<label>\n\t\t\t\t\tMolecule:\n\t\t\t\t\t<input type=\"text\" value={this.value}/>        \n\t\t\t\t</label>\n\t\t\t\t<input type=\"submit\" value=\"Decompose\" />\n      \t\t</form>\n\t\t\t{this.molecule.render()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// ========================================\n\nReactDOM.render(\n  <Display />,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}