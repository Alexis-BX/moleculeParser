{"ast":null,"code":"var _jsxFileName = \"/home/alexis/Documents/joko/test/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction isCap(a) {\n  return ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'].includes(a);\n}\n\nfunction isLow(a) {\n  return ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'].includes(a);\n}\n\nfunction isNum(a) {\n  return ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(a);\n}\n\nclass Element {\n  constructor(elem, amount = 1) {\n    this.name = elem;\n    this.amount = amount;\n  }\n\n}\n\nclass Molecule {\n  constructor() {\n    this.elemList = [];\n  }\n\n  addElem(name, amount = 1) {\n    for (var i = 0; i < this.elemList.length; i++) {\n      if (this.elemList[i].name === name) {\n        this.elemList[i].amount += amount;\n        return false;\n      }\n    }\n\n    var elem = new Element(name, amount);\n    this.elemList.push(elem);\n    return true;\n  }\n\n  mergeMolecule(molecule) {\n    for (var i = 0; i < molecule.elemList.length; i++) {\n      this.addElem(molecule.elemList[i]);\n    }\n  }\n\n  multiply(amount) {\n    if (amount === 0) this.elemList = [];\n    if (amount === 1) return;\n\n    for (var i = 0; i < this.elemList.length; i++) {\n      this.elemList[i].amount *= amount;\n    }\n  }\n\n}\n\nfunction parse(m) {\n  var molecule = new Molecule();\n  var i = 0;\n  var L = m.length;\n\n  while (i < L) {\n    var e = '';\n    var n = '';\n\n    if (isCap(m[i])) {\n      e = m[i];\n      i++;\n\n      while (i < L && isLow(m[i])) {\n        e += m[i];\n        i++;\n      }\n\n      while (i < L && isNum(m[i])) {\n        n += m[i];\n        i++;\n      }\n\n      n = n === '' ? 1 : Number(n);\n      molecule.addElem(e, n);\n    } else if (['(', '[', '{'].includes(m[i])) {\n      var target;\n\n      switch (m[i]) {\n        case '(':\n          target = ')';\n          break;\n\n        case '[':\n          target = ']';\n          break;\n\n        default:\n          target = '}';\n      }\n\n      var count = 0;\n      var j = i + 1;\n\n      while (j < L && count < 1) {\n        if (m[j] === m[i]) {\n          count--;\n        }\n\n        if (m[j] === target) {\n          count++;\n        }\n\n        j++;\n      }\n\n      if (count < 1) {\n        alert(\"Unclosed bracket!\");\n        return Molecule();\n      }\n\n      var ret = parse(m.substring(i + 1, j - 1));\n      i = j;\n\n      while (i < L && isNum(m[i])) {\n        n += m[i];\n        i++;\n      }\n\n      n = n === '' ? 1 : Number(n);\n      ret.multiply(n);\n      molecule.mergeMolecule(ret);\n      console.log(ret.elemList);\n      console.log(molecule.elemList);\n    } else {\n      alert(\"Unauthorised symbol!\");\n      alert(m[i]);\n      return new Molecule();\n    }\n  }\n\n  return molecule;\n}\n\nclass Display extends React.Component {\n  constructor(props) {\n    super(props);\n    this.molecule = new Molecule();\n    this.state = {\n      value: '',\n      submitted: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    this.molecule = parse(this.state.value);\n    this.setState({\n      submitted: true\n    });\n    event.preventDefault();\n  }\n\n  renderMolecule() {\n    var rows = [];\n\n    for (var i = 0; i < this.molecule.elemList.length; i++) {\n      rows.push( /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 5\n        }\n      }, this.molecule.elemList[i].name + ' => ', this.molecule.elemList[i].amount));\n    }\n\n    console.log(this.molecule.elemList);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Molecule\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    }, rows));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 5\n      }\n    }, \"Molecule:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Decompose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 5\n      }\n    })), this.state.submitted && this.renderMolecule());\n  }\n\n} // ========================================\n\n\nReactDOM.render( /*#__PURE__*/React.createElement(Display, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 3\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/alexis/Documents/joko/test/src/index.js"],"names":["React","ReactDOM","isCap","a","includes","isLow","isNum","Element","constructor","elem","amount","name","Molecule","elemList","addElem","i","length","push","mergeMolecule","molecule","multiply","parse","m","L","e","n","Number","target","count","j","alert","ret","substring","console","log","Display","Component","props","state","value","submitted","handleChange","bind","handleSubmit","event","setState","preventDefault","renderMolecule","rows","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction isCap(a){\n    return ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'].includes(a);\n}\n\nfunction isLow(a){\n    return ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'].includes(a);\n}\n\nfunction isNum(a){\n    return ['0','1','2','3','4','5','6','7','8','9'].includes(a);\n}\n\nclass Element {\n    constructor(elem, amount=1){\n        this.name = elem;\n        this.amount = amount;\n\t}\n}\n\nclass Molecule {\n    constructor() {\n        this.elemList = []\n    }\n\n    addElem(name, amount=1) {\n        for (var i=0; i<this.elemList.length; i++){\n            if(this.elemList[i].name === name){\n                this.elemList[i].amount += amount;\n                return false;\n            }\n\t\t}\n\t\tvar elem = new Element(name, amount)\n        this.elemList.push(elem);\n        return true;\n    }\n    \n    mergeMolecule(molecule){\n        for (var i=0; i<molecule.elemList.length; i++){\n            this.addElem(molecule.elemList[i]);\n        }\n    }\n\n    multiply(amount){\n        if (amount === 0) this.elemList = [];\n        if (amount === 1) return;\n        for (var i=0; i<this.elemList.length; i++){\n            this.elemList[i].amount *= amount;\n        }\n\t}\n}\n\nfunction parse(m){\n\tvar molecule = new Molecule();\n\tvar i = 0;\n\tvar L = m.length;\n\twhile(i<L){\n\t\tvar e = '';\n\t\tvar n = '';\n\t\tif (isCap(m[i])){\n\t\t\te = m[i];\n\t\t\ti++;\n\t\t\twhile (i<L && isLow(m[i])){\n\t\t\t\te += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\twhile (i<L && isNum(m[i])){\n\t\t\t\tn += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tn = (n==='') ? 1 : Number(n);\n\t\t\tmolecule.addElem(e, n);\n\t\t}\n\t\telse if (['(','[','{'].includes(m[i])){\n\t\t\tvar target;\n\t\t\tswitch (m[i]){\n\t\t\t\tcase '(': target = ')'; break;\n\t\t\t\tcase '[': target = ']'; break;\n\t\t\t\tdefault: target = '}'\n\t\t\t}\n\t\t\tvar count = 0;\n\t\t\tvar j = i+1;\n\t\t\twhile(j<L && count<1){\n\t\t\t\tif (m[j] === m[i]){\n\t\t\t\t\tcount--;\n\t\t\t\t}\n\t\t\t\tif (m[j] === target){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (count<1){\n\t\t\t\talert(\"Unclosed bracket!\");\n\t\t\t\treturn Molecule();\n\t\t\t}\n\t\t\tvar ret = parse(m.substring(i+1, j-1));\n\t\t\ti = j;\n\t\t\twhile (i<L && isNum(m[i])){\n\t\t\t\tn += m[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tn = (n==='') ? 1 : Number(n);\n\t\t\tret.multiply(n);\n\t\t\tmolecule.mergeMolecule(ret);\n\t\t\tconsole.log(ret.elemList);\n\t\t\tconsole.log(molecule.elemList);\n\t\t} else {\n\t\t\talert(\"Unauthorised symbol!\");\n\t\t\talert(m[i]);\n\t\t\treturn new Molecule();\n\t\t}\n\t}\n\treturn molecule;\n}\n\nclass Display extends React.Component {\n\tconstructor(props) {    \n\t\tsuper(props);\n\t\tthis.molecule = new Molecule();\n\t\tthis.state = {value: '', submitted: false};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tthis.setState({value: event.target.value});\n\t}\n\n\thandleSubmit(event){\n\t\tthis.molecule = parse(this.state.value);\n\t\tthis.setState({ submitted: true })\n\t\tevent.preventDefault();\n\t}\n\n\trenderMolecule(){\n\t\tvar rows = [];\n\t\tfor (var i=0; i<this.molecule.elemList.length; i++){\n\t\t\trows.push(\n\t\t\t\t<li>{this.molecule.elemList[i].name + ' => '}\n\t\t\t\t    {this.molecule.elemList[i].amount}</li>\n\t\t\t);\n\t\t}\n\t\tconsole.log(this.molecule.elemList);\n\n\t\treturn (\n\t\t\t<div className=\"Molecule\">\n\t\t\t\t<ul>\n\t\t\t\t\t{rows}\n\t\t\t\t</ul> \n\t\t\t</div>\n\t\t);\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"Display\">\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<label>\n\t\t\t\t\tMolecule:\n\t\t\t\t\t<input type=\"text\" value={this.value} onChange={this.handleChange}/>        \n\t\t\t\t</label>\n\t\t\t\t<input type=\"submit\" value=\"Decompose\" />\n      \t\t</form>\n\t\t\t  {this.state.submitted && this.renderMolecule()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// ========================================\n\nReactDOM.render(\n  <Display />,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}